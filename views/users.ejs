<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Available Bus Routes</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>

<body>

    <!-- Navbar -->
    <%- include('partials/navbar') %>
        <div class="flex gap-40 flex-1 p-2">
            <%- include('partials/sidebar') %>
                <section class="px-6 py-8">
                    <h2 class="text-2xl font-semibold text-center mb-6">Users List</h2>

                    <% if (data.length> 0) { %>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                            <% data.map((item)=> { %>
                                <div
                                    class="relative border rounded-lg shadow-md p-5 bg-white hover:shadow-lg transition duration-300">

                                    <% if (session && session.role==='admin' ) { %>
                                        <form action="/delete/<%= item._id %>" method="get"
                                            class="absolute top-3 right-3">
                                            <button type="submit" title="Delete"
                                                class="text-red-500 hover:text-red-700 text-lg transition">
                                                <i class="bi bi-trash-fill"></i>
                                            </button>
                                        </form>
                                        <% } %>

                                            <ul class="space-y-2 text-sm text-gray-700">
                                                <li class="text-gray-400 break-all">
                                                    <%= item._id %>
                                                </li>
                                                <li><strong>Name:</strong>
                                                    <%= item.name %>
                                                </li>
                                                <li><strong>Email:</strong>
                                                    <%= item.email %>
                                                </li>
                                                <li class="text-sm font-semibold text-red-500 uppercase tracking-wide">
                                                    <%= item.role %>
                                                </li>
                                            </ul>
                                </div>
                                <% }) %>
                        </div>
                        <% } else { %>
                            <p class="text-center text-gray-600 mt-6">No users available at the moment.</p>
                            <% } %>
                </section>

        </div>
        <%- include('partials/footer') %>

</body>

</html>